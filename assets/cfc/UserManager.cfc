<!--- PureMVC Flex/CF Demo – Query a CFC  Copyright (c) 2007 Simon Bailey <simon.bailey@puremvc.org> Your reuse is governed by the Creative Commons Attribution 3.0 License---><cfcomponent>	<!--- SET DATASOURCE --->	<cfset dsn="flexCF"/>	<!--- ************************************************* --->	<!---                    ADD A USER                     --->	<!--- ************************************************* --->	<cffunction name="addUser" returntype="UserVO" access="remote">		<cfargument name="aUser" type="UserVO">			<cfset var qUser = ''>			<cfquery name="qUser" datasource="#dsn#">				INSERT into users 					(username, password)				VALUES					('#arguments.aUser.username#', '#arguments.aUser.password#')			</cfquery>						<cfquery name="qUser" datasource="#dsn#">				SELECT 	MAX(user_id) as uID				FROM	users			</cfquery>						<cfset arguments.aUser.user_id = qUser.uID>					<cfreturn aUser />	</cffunction>	<!--- ************************************************* --->	<!---                  UPDATE A USER                    --->	<!--- ************************************************* --->	<cffunction name="updateUser" returntype="UserVO" access="remote">		<cfargument name="aUser" type="UserVO">			<cfset var qUser = ''>						<cfquery name="qUser" datasource="#dsn#">				UPDATE	users				SET		username = '#arguments.aUser.username#',						password = '#arguments.aUser.password#'				WHERE 	user_id =  #arguments.aUser.user_id#			</cfquery>						<cfreturn arguments.aUser />	</cffunction>	<!--- ************************************************* --->	<!---                 DELETE A USER                     --->	<!--- ************************************************* --->	<cffunction name="deleteUser" returntype="UserVO" access="remote">		<cfargument name="aUser" type="UserVO">			<cfset var qUser = ''>						<cfquery name="qUser" datasource="#dsn#">				DELETE FROM	users				WHERE user_id = #arguments.aUser.user_id#			</cfquery>						<cfreturn aUser />	</cffunction>	<!--- ************************************************* --->	<!---                  GET ALL USERS                    --->	<!--- ************************************************* --->	<cffunction name="getAllUsers" returntype="Query" access="remote">		<cfquery name="qUsers" datasource="#dsn#">			SELECT *			FROM   users		</cfquery>		<cfreturn qUsers />	</cffunction></cfcomponent>